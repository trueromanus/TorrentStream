app-id: tv.anilibria.torrentstream
runtime: org.freedesktop.Platform
runtime-version: 23.08
sdk: org.freedesktop.Sdk
command: TorrentStream
sdk-extensions: 
  - org.freedesktop.Sdk.Extension.dotnet8
build-options":
  append-path: /usr/lib/sdk/dotnet8/bin
  append-ld-library-path: /usr/lib/sdk/dotnet8/lib
  env:
    PKG_CONFIG_PATH: /app/lib/pkgconfig:/app/share/pkgconfig:/usr/lib/pkgconfig:/usr/share/pkgconfig:/usr/lib/sdk/dotnet8/lib/pkgconfig
modules:
  - name: torrentstream
    buildsystem: simple
    build-commands:
      - dotnet publish -r linux-x64 -c Release --self-contained true src/TorrentStream.csproj
      - "cp -r --remove-destination src/bin/Release/net8.0/linux-x64/publish/ /app/bin/"
    sources:
      - type: git
        url: https://github.com/trueromanus/TorrentStream
finish-args:
  - --share=ipc
  - --socket=x11
  - --device=dri
  - --share=network
  - --filesystem=host